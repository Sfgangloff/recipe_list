{"ast":null,"code":"var _jsxFileName = \"/home/silvere/Desktop/Apps/recipelist/src/App.js\",\n  _s = $RefreshSig$();\nimport { db } from \"./firebase.config\";\nimport { useState, useEffect } from \"react\";\nimport { collection, onSnapshot, doc, addDoc, deleteDoc, setDoc, updateDoc } from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL, put } from 'firebase/storage';\nimport { getStorage } from 'firebase/storage';\nimport { v4 } from 'uuid';\nimport CommentList from './editablelist.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [comments, setComments] = useState([]);\n  const [form, setForm] = useState({\n    title: \"\",\n    description: \"\",\n    ingredients: [],\n    steps: []\n  });\n  const [popupActive, setPopupActive] = useState(false);\n  const [popupTitle, setPopupTitle] = useState(\"\");\n  const [currentRecipe, setCurrentRecipe] = useState(\"\");\n  const [isInEditMode, setIsInEditMode] = useState(false);\n  const recipesCollectionRef = collection(db, \"recipes\");\n  const commentsCollectionRef = collection(db, \"comments\");\n  const storage = getStorage();\n  const [pictureUpload, setPictureUpload] = useState(null);\n  useEffect(() => {\n    onSnapshot(recipesCollectionRef, snapshot => {\n      setRecipes(snapshot.docs.map(doc => {\n        return {\n          id: doc.id,\n          ...doc.data()\n        };\n      }));\n    });\n    onSnapshot(commentsCollectionRef, snapshot => {\n      setComments(snapshot.docs.map(doc => {\n        return {\n          id: doc.id,\n          ...doc.data()\n        };\n      }));\n    });\n  }, []);\n  const handleView = id => {\n    const recipesClone = [...recipes];\n    recipesClone.forEach(async recipe => {\n      const recipeRef = doc(db, \"recipes\", recipe.id);\n      if (recipe.id === id) {\n        await updateDoc(recipeRef, {\n          viewing: !recipe.viewing\n        });\n      } else {\n        await updateDoc(recipeRef, {\n          viewing: false\n        });\n      }\n    });\n    setRecipes(recipesClone);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!form.title || !form.description || !form.ingredients || !form.steps) {\n      alert(\"Please fill out all fields\");\n      return;\n    }\n    if (!isInEditMode) {\n      if (pictureUpload != null) {\n        const pictureRef = ref(storage, `${pictureUpload.name}`);\n        uploadBytes(pictureRef, pictureUpload).then(async () => {\n          var y = await getDownloadURL(pictureRef);\n          var x = v4();\n          addDoc(commentsCollectionRef, {\n            recipeId: x,\n            text: \"############################################################\",\n            timestamp: 9999999999999\n          });\n          await setDoc(doc(db, \"recipes\", x), {\n            ...form,\n            viewing: false,\n            picture: y\n          });\n        });\n      } else {\n        var x = v4();\n        await setDoc(doc(db, \"recipes\", x), {\n          ...form,\n          viewing: false,\n          picture: \"\"\n        });\n        addDoc(commentsCollectionRef, {\n          recipeId: x,\n          text: \"############################################################\",\n          timestamp: 9999999999999\n        });\n      }\n    }\n    if (isInEditMode) {\n      const recipeRef = doc(db, \"recipes\", currentRecipe);\n      if (pictureUpload != null) {\n        const pictureRef = ref(storage, `${pictureUpload.name}`);\n        uploadBytes(pictureRef, pictureUpload).then(async () => {\n          var y = await getDownloadURL(pictureRef);\n          await updateDoc(recipeRef, {\n            ...form,\n            picture: y\n          });\n        });\n      } else {\n        await updateDoc(recipeRef, form);\n      }\n    }\n    setForm({\n      title: \"\",\n      description: \"\",\n      ingredients: [],\n      steps: []\n    });\n    setPopupActive(false);\n  };\n  const handleIngredient = (e, i) => {\n    const ingredientsClone = [...form.ingredients];\n    ingredientsClone[i] = e.target.value;\n    setForm({\n      ...form,\n      ingredients: ingredientsClone\n    });\n  };\n  const handleStep = (e, i) => {\n    const stepsClone = [...form.steps];\n    stepsClone[i] = e.target.value;\n    setForm({\n      ...form,\n      steps: stepsClone\n    });\n  };\n  const handleIngredientCount = () => {\n    setForm({\n      ...form,\n      ingredients: [...form.ingredients, \"\"]\n    });\n  };\n  const handleStepCount = () => {\n    setForm({\n      ...form,\n      steps: [...form.steps, \"\"]\n    });\n  };\n  const handleCancel = () => {\n    setPopupActive(false);\n    setForm({\n      title: \"\",\n      description: \"\",\n      ingredients: [],\n      steps: []\n    });\n  };\n  const removeRecipe = async id => {\n    deleteDoc(doc(db, \"recipes\", id));\n    for (var i = 0; i < comments.length; i++) {\n      if (comments[i].recipeId === id) {\n        await deleteDoc(doc(db, \"comments\", comments[i].id));\n      }\n    }\n  };\n  let urlPenImg = new URL(\"grapes.jpg\", import.meta.url);\n  let urlEyeImg = new URL(\"tomato.png\", import.meta.url);\n  let urlRecycleImg = new URL(\"lemon.jpg\", import.meta.url);\n  let urlAddImg = new URL(\"add.png\", import.meta.url);\n  let urlPlaceHolder = new URL(\"placeholder.png\", import.meta.url);\n  let urlPlusImg = new URL(\"plus.png\", import.meta.url);\n  let urlUploadImg = new URL(\"upload.png\", import.meta.url);\n  let urlCancelImg = new URL(\"cancel.png\", import.meta.url);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"block\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          backgroundColor: \"rgba(27,17,19,0.85)\",\n          fontSize: 32,\n          width: \"80vw\",\n          marginBottom: 30,\n          color: \"#feae00\"\n        },\n        children: \"S. and J. Moon-Gangloff's recipes list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"imgBtn\",\n        src: urlAddImg,\n        style: {\n          height: 70,\n          width: 70\n        },\n        type: \"button\",\n        onClick: () => {\n          setPopupActive(!popupActive);\n          setPopupTitle(\"Add recipe\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipes\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: recipes.map((recipe, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"recipe\",\n            style: {\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              backgroundColor: \"rgba(27,17,19,0.75)\",\n              width: \"80vw\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              style: {\n                width: \"100%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    width: \"47.5%\",\n                    position: \"relative\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: \"absolute\",\n                      top: \"0\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"recipeTitle\",\n                      style: {\n                        color: \"#feae00\"\n                      },\n                      children: recipe.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 11\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      dangerouslySetInnerHTML: {\n                        __html: recipe.description\n                      },\n                      style: {\n                        color: \"#bdbb65\",\n                        fontStyle: \"italic\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 11\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 11\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontWeight: \"bold\"\n                      },\n                      children: \"Ingredients:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 11\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 11\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        fontStyle: \"italic\"\n                      },\n                      children: recipe.ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [ingredient, \" \\xA0 - \\xA0\"]\n                      }, i, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 17\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 15\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    width: \"42.5%\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: recipe.picture !== \"\" ? new URL(recipe.picture, import.meta.url) : urlPlaceHolder,\n                    style: {\n                      width: \"100%\",\n                      height: \"300px\",\n                      verticalAlign: \"bottom\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    width: \"10%\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"buttons\",\n                    style: {\n                      width: \"100%\",\n                      height: \"100%\",\n                      textAlign: \"center\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      style: {\n                        display: \"inline-block\",\n                        textAlign: \"left\",\n                        height: \"100%\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          className: \"imgBtn\",\n                          src: urlEyeImg,\n                          style: {\n                            height: 60,\n                            width: 60,\n                            borderRadius: 50,\n                            border: \"3px solid red\"\n                          },\n                          onClick: () => handleView(recipe.id)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 19\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          className: \"imgBtn\",\n                          src: urlPenImg,\n                          style: {\n                            height: 60,\n                            width: 60,\n                            borderRadius: 50,\n                            border: \"3px solid red\"\n                          },\n                          onClick: () => {\n                            setForm({\n                              title: recipe.title,\n                              description: recipe.description,\n                              ingredients: recipe.ingredients,\n                              steps: recipe.steps\n                            });\n                            setPopupTitle(\"Edit recipe\");\n                            setPopupActive(!popupActive);\n                            setCurrentRecipe(recipe.id);\n                            setIsInEditMode(true);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 17\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          className: \"imgBtn\",\n                          src: urlRecycleImg,\n                          style: {\n                            height: 60,\n                            width: 60,\n                            borderRadius: 50,\n                            border: \"3px solid red\"\n                          },\n                          onClick: () => {\n                            if (window.confirm('Are you sure you wish to delete this recipe?')) removeRecipe(recipe.id);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 235,\n                          columnNumber: 17\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 235,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 11\n            }, this), recipe.viewing && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Steps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                children: recipe.steps.map((step, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#feae00\"\n                    },\n                    children: i + \". \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: step\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 76\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 17\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Comments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n                recipeId: recipe.id,\n                comments: comments\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 31\n            }, this)]\n          }, recipe.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 38\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this), popupActive && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: popupTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"---------- Title ----------\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: form.title,\n                onChange: e => setForm({\n                  ...form,\n                  title: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"----- Description -----\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                type: \"text\",\n                value: form.description,\n                onChange: e => setForm({\n                  ...form,\n                  description: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"----- Ingredients ----- \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 21\n              }, this), form.ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"textarea\", {\n                type: \"text\",\n                value: ingredient,\n                onChange: e => handleIngredient(e, i)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 25\n              }, this)), /*#__PURE__*/_jsxDEV(\"img\", {\n                type: \"button\",\n                src: urlPlusImg,\n                style: {\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                  width: \"30px\",\n                  height: \"3Opx\"\n                },\n                onClick: handleIngredientCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"---------- Steps ----------\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this), form.steps.map((step, i) => /*#__PURE__*/_jsxDEV(\"textarea\", {\n                type: \"textarea\",\n                value: step,\n                onChange: e => handleStep(e, i)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 25\n              }, this)), /*#__PURE__*/_jsxDEV(\"img\", {\n                type: \"button\",\n                src: urlPlusImg,\n                style: {\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                  width: \"30px\",\n                  height: \"3Opx\"\n                },\n                onClick: handleStepCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"---------- Picture ----------\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: e => {\n                  setPictureUpload(e.target.files[0]);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttons\",\n              style: {\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: urlUploadImg,\n                  style: {\n                    width: \"40px\",\n                    height: \"40px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 43\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"remove\",\n                onClick: handleCancel,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: urlCancelImg,\n                  style: {\n                    width: \"30px\",\n                    height: \"30px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 81\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(App, \"peRASu+7/u7AFkOEtXRtxBvuX3o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["db","useState","useEffect","collection","onSnapshot","doc","addDoc","deleteDoc","setDoc","updateDoc","ref","uploadBytes","getDownloadURL","put","getStorage","v4","CommentList","App","recipes","setRecipes","comments","setComments","form","setForm","title","description","ingredients","steps","popupActive","setPopupActive","popupTitle","setPopupTitle","currentRecipe","setCurrentRecipe","isInEditMode","setIsInEditMode","recipesCollectionRef","commentsCollectionRef","storage","pictureUpload","setPictureUpload","snapshot","docs","map","id","data","handleView","recipesClone","forEach","recipe","recipeRef","viewing","handleSubmit","e","preventDefault","alert","pictureRef","name","then","y","x","recipeId","text","timestamp","picture","handleIngredient","i","ingredientsClone","target","value","handleStep","stepsClone","handleIngredientCount","handleStepCount","handleCancel","removeRecipe","length","urlPenImg","URL","import","meta","url","urlEyeImg","urlRecycleImg","urlAddImg","urlPlaceHolder","urlPlusImg","urlUploadImg","urlCancelImg","display","marginLeft","marginRight","backgroundColor","fontSize","width","marginBottom","color","height","position","top","__html","fontStyle","fontWeight","flexWrap","ingredient","verticalAlign","textAlign","borderRadius","border","window","confirm","step","files"],"sources":["/home/silvere/Desktop/Apps/recipelist/src/App.js"],"sourcesContent":["import { db } from \"./firebase.config\"\nimport { useState, useEffect } from \"react\"\nimport {collection, onSnapshot, doc, addDoc, deleteDoc, setDoc , updateDoc} from \"firebase/firestore\"\nimport { ref,uploadBytes, getDownloadURL, put } from 'firebase/storage'\nimport { getStorage } from 'firebase/storage';\nimport { v4 } from 'uuid';\n\nimport CommentList from './editablelist.js';\n\nfunction App() {\n\n  const [recipes, setRecipes] = useState([])\n  const [comments, setComments] = useState([])\n\n  const [form, setForm] = useState({\n    title: \"\",\n    description: \"\",\n    ingredients: [],\n    steps: []\n  })\n  const [popupActive, setPopupActive] = useState(false)\n\n  const [popupTitle,setPopupTitle]=useState(\"\")\n\n  const [currentRecipe,setCurrentRecipe]=useState(\"\")\n\n  const [isInEditMode,setIsInEditMode]=useState(false)\n\n  const recipesCollectionRef = collection(db,\"recipes\")\n  const commentsCollectionRef = collection(db,\"comments\")\n\n  const storage = getStorage();\n\n  const [pictureUpload,setPictureUpload] = useState(null);\n\n  useEffect(()=>{\n      onSnapshot(recipesCollectionRef, snapshot => {\n        setRecipes(snapshot.docs.map(doc => {\n          return {\n            id:doc.id,\n            ...doc.data()\n          }\n        }))\n      }\n      )\n      onSnapshot(commentsCollectionRef, snapshot => {\n        setComments(snapshot.docs.map(doc => {\n          return {\n            id:doc.id,\n            ...doc.data()\n          }\n        }))\n      }\n      )\n    }, []\n  )\n\n  const handleView = id => {\n    const recipesClone = [...recipes]\n\n    recipesClone.forEach(async recipe => {\n      const recipeRef = doc(db,\"recipes\",recipe.id)\n      if (recipe.id === id) {\n        await updateDoc(recipeRef,{viewing:!recipe.viewing});\n      } else {\n        await updateDoc(recipeRef,{viewing:false});\n      }\n    })\n\n    setRecipes(recipesClone)\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n\n    if (!form.title || !form.description || !form.ingredients || !form.steps) {\n      alert(\"Please fill out all fields\")\n      return \n    }\n    if (!isInEditMode) {\n      \n\n      if (pictureUpload!= null){\n        const pictureRef = ref(storage,`${pictureUpload.name}`);\n        uploadBytes(pictureRef,pictureUpload).then(async () => {\n        var y = await getDownloadURL(pictureRef);\n        var x = v4();\n        addDoc(commentsCollectionRef,{recipeId:x,text:\"############################################################\", timestamp:9999999999999})\n        await setDoc(doc(db, \"recipes\", x),{...form,viewing:false,picture:y});\n        });\n      } else {\n        var x = v4();\n        await setDoc(doc(db, \"recipes\", x),{...form,viewing:false,picture:\"\"});\n        addDoc(commentsCollectionRef,{recipeId:x,text:\"############################################################\", timestamp:9999999999999})\n      }\n      } \n    if (isInEditMode) {\n      const recipeRef = doc(db,\"recipes\",currentRecipe)\n      \n      if (pictureUpload!= null){\n        const pictureRef = ref(storage,`${pictureUpload.name}`);\n        uploadBytes(pictureRef,pictureUpload).then(async () => {\n        var y = await getDownloadURL(pictureRef);\n        await updateDoc(recipeRef,{...form,picture:y});\n        });\n      } else {\n        await updateDoc(recipeRef,form);\n      }\n      \n      \n    }\n\n    setForm({\n      title:\"\",\n      description:\"\",\n      ingredients:[],\n      steps:[]\n    })\n\n    setPopupActive(false)\n  }\n\n  const handleIngredient = (e,i) => {\n    const ingredientsClone = [...form.ingredients]\n\n    ingredientsClone[i] = e.target.value\n    \n    setForm({\n      ...form,\n      ingredients:ingredientsClone\n    })\n  }\n\n  const handleStep = (e,i) => {\n    const stepsClone = [...form.steps]\n\n    stepsClone[i] = e.target.value\n    \n    setForm({\n      ...form,\n      steps:stepsClone\n    })\n  }\n\n  const handleIngredientCount = () => {\n    setForm({\n      ...form,\n      ingredients: [...form.ingredients, \"\"]\n    })\n  }\n\n  const handleStepCount = () => {\n    setForm({\n      ...form,\n      steps: [...form.steps, \"\"]\n    })\n  }\n\n  const handleCancel = () => {setPopupActive(false)\n    setForm({\n    title:\"\",\n    description:\"\",\n    ingredients:[],\n    steps:[]\n  })\n}\n\n                                                                    \n\n  const removeRecipe = async id => {\n    deleteDoc(doc(db,\"recipes\",id))\n    for (var i=0; i<comments.length; i++) {\n      if (comments[i].recipeId === id) {\n        await deleteDoc(doc(db,\"comments\",comments[i].id))\n      }\n    }\n  }\n\n  let urlPenImg = new URL(\"grapes.jpg\",import.meta.url);\n  let urlEyeImg = new URL(\"tomato.png\",import.meta.url);\n  let urlRecycleImg = new URL(\"lemon.jpg\",import.meta.url);\n  let urlAddImg = new URL(\"add.png\",import.meta.url);\n  let urlPlaceHolder = new URL(\"placeholder.png\",import.meta.url);\n  let urlPlusImg = new URL(\"plus.png\",import.meta.url);\n  let urlUploadImg = new URL(\"upload.png\",import.meta.url);\n  let urlCancelImg = new URL(\"cancel.png\",import.meta.url);\n\n  return (\n    <> \n\n    <div className=\"App\">\n      <p style={{display:\"block\",marginLeft:\"auto\",\n    marginRight:\"auto\",backgroundColor:\"rgba(27,17,19,0.85)\",fontSize:32,width:\"80vw\",marginBottom:30,color:\"#feae00\"}}>S. and J. Moon-Gangloff's recipes list</p>\n\n      <img className=\"imgBtn\" src={urlAddImg} style={{height:70,width:70}} type=\"button\" onClick ={()=> {\n            setPopupActive(!popupActive)\n            setPopupTitle(\"Add recipe\")\n          }}/>\n\n      <div className=\"recipes\">\n        <ol>\n        { recipes.map((recipe,i) => (<li className=\"recipe\" style={{display:\"block\",marginLeft:\"auto\",\n    marginRight:\"auto\",backgroundColor:\"rgba(27,17,19,0.75)\",width:\"80vw\"}} key={recipe.id}>\n          \n          <table style={{width:\"100%\"}}>\n            <tr>\n              <td style={{width:\"47.5%\",position:\"relative\"}}>\n          <div style={{position:\"absolute\",top:\"0\"}}>\n          <p className=\"recipeTitle\" style={{color:\"#feae00\"}}>{recipe.title}</p>\n          <p dangerouslySetInnerHTML={{ __html: recipe.description }} style={{color:\"#bdbb65\",fontStyle:\"italic\"}}></p>\n          <br/>\n          <p style={{fontWeight:\"bold\"}}>Ingredients:</p>\n          <br/>\n              <div style={{display:\"flex\",flexWrap:\"wrap\",fontStyle:\"italic\"}}>{recipe.ingredients.map((ingredient,i) => (\n                <div key={i}>{ingredient} &nbsp; - &nbsp;</div>\n              ))}\n              </div>\n          \n          </div>\n              </td>\n              <td style={{width:\"42.5%\"}}>\n                <img src={(recipe.picture !== \"\") ? new URL(recipe.picture,import.meta.url) : urlPlaceHolder} style={{width:\"100%\",height:\"300px\",verticalAlign:\"bottom\"}}/>\n              </td>\n              <td style={{width:\"10%\"}}>\n\n          <div className = \"buttons\" style={{width:\"100%\",height:\"100%\",textAlign:\"center\"}}>\n            <ul style={{display:\"inline-block\",textAlign:\"left\",height:\"100%\"}}>\n              <li><img className=\"imgBtn\" src={urlEyeImg} style={{height:60,width:60,borderRadius:50,border:\"3px solid red\"}} onClick={() => handleView(recipe.id)}/></li>\n            <li><img className=\"imgBtn\" src={urlPenImg} style={{height:60,width:60,borderRadius:50,border:\"3px solid red\"}} onClick={() => {setForm({title:recipe.title,description:recipe.description,ingredients:recipe.ingredients,steps:recipe.steps}) \n                                    setPopupTitle(\"Edit recipe\")\n                                    setPopupActive(!popupActive)\n                                    setCurrentRecipe(recipe.id)\n                                    setIsInEditMode(true)\n                                    }}/> </li>\n            <li><img className=\"imgBtn\" src={urlRecycleImg} style={{height:60,width:60,borderRadius:50,border:\"3px solid red\"}} onClick={() => {if (window.confirm('Are you sure you wish to delete this recipe?')) removeRecipe(recipe.id)}}/> </li>\n          </ul>\n          </div>\n              </td>\n\n          </tr>\n\n          </table>\n\n\n          { recipe.viewing && <div>\n\n            <h4>Steps</h4>\n            <ol>\n              {recipe.steps.map((step,i) => (\n                <li key={i}><span style={{color:\"#feae00\"}}>{i+\". \"}</span><span>{ step }</span></li>\n              ))}\n            </ol>\n\n            <h4>Comments</h4>\n            \n            \n            <CommentList recipeId={recipe.id} comments={comments}/>\n            \n          </div>}\n\n          \n        </li>))}\n        </ol>\n      </div>\n\n      { popupActive && <div className =\"popup\">\n              <div className=\"popup-inner\">\n                <h2>{popupTitle}</h2>\n\n                <form onSubmit = {handleSubmit}> \n\n                  <div className=\"form-group\">\n                    <label style={{textAlign:\"center\"}}>---------- Title ----------</label> \n                    <input \n                      type=\"text\" \n                      value={form.title} \n                      onChange = {e => setForm({...form,title:e.target.value})}/>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label style={{textAlign:\"center\"}}>----- Description -----</label> \n                    <textarea\n                      type=\"text\" \n                      value={form.description} \n                      onChange = {e => setForm({...form,description:e.target.value})}/>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label style={{textAlign:\"center\"}}>----- Ingredients ----- </label> \n                    {\n                      form.ingredients.map((ingredient,i) => (\n                        <textarea\n                      type=\"text\" \n                      key={i}\n                      value={ingredient} \n                      onChange = {e => handleIngredient(e,i)}/>\n                      ))\n                    }\n\n                    <img type=\"button\" src={urlPlusImg} style={{display:\"block\", marginLeft:\"auto\",\n  marginRight:\"auto\",width:\"30px\",height:\"3Opx\"}} onClick ={handleIngredientCount}/>\n                    \n                  </div>\n\n                  <div className=\"form-group\">\n                    <label style={{textAlign:\"center\"}}>---------- Steps ----------</label> \n                    {\n                      form.steps.map((step,i) => (\n                        <textarea\n                      type=\"textarea\" \n                      key={i}\n                      value={step} \n                      onChange = {e => handleStep(e,i)}/>\n                      ))\n                    }\n\n<img type=\"button\" src={urlPlusImg} style={{display:\"block\", marginLeft:\"auto\",\n  marginRight:\"auto\",width:\"30px\",height:\"3Opx\"}} onClick ={handleStepCount}/>\n                    \n                  </div>\n\n                  <div className=\"form-group\">\n                    <label style={{textAlign:\"center\"}}>---------- Picture ----------</label> \n                   \n<input type='file' onChange={(e) => {setPictureUpload(e.target.files[0])}}/> \n                  </div>\n\n                  <div className=\"buttons\" style={{display:\"flex\"}}>\n                    <button type=\"submit\"><img src={urlUploadImg} style={{width:\"40px\",height:\"40px\"}}/></button>\n                    <button type=\"button\" class=\"remove\" onClick={handleCancel}><img src={urlCancelImg} style={{width:\"30px\",height:\"30px\"}}/></button>\n                  </div>\n\n                </form>\n              </div>\n        </div>}\n    </div>\n\n    </>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,SAASA,EAAE,QAAQ,mBAAmB;AACtC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAAQC,UAAU,EAAEC,UAAU,EAAEC,GAAG,EAAEC,MAAM,EAAEC,SAAS,EAAEC,MAAM,EAAGC,SAAS,QAAO,oBAAoB;AACrG,SAASC,GAAG,EAACC,WAAW,EAAEC,cAAc,EAAEC,GAAG,QAAQ,kBAAkB;AACvE,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,EAAE,QAAQ,MAAM;AAEzB,OAAOC,WAAW,MAAM,mBAAmB;AAAC;AAAA;AAE5C,SAASC,GAAG,GAAG;EAAA;EAEb,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAAC;IAC/BuB,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,EAAE;IACfC,WAAW,EAAE,EAAE;IACfC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAM,CAAC6B,UAAU,EAACC,aAAa,CAAC,GAAC9B,QAAQ,CAAC,EAAE,CAAC;EAE7C,MAAM,CAAC+B,aAAa,EAACC,gBAAgB,CAAC,GAAChC,QAAQ,CAAC,EAAE,CAAC;EAEnD,MAAM,CAACiC,YAAY,EAACC,eAAe,CAAC,GAAClC,QAAQ,CAAC,KAAK,CAAC;EAEpD,MAAMmC,oBAAoB,GAAGjC,UAAU,CAACH,EAAE,EAAC,SAAS,CAAC;EACrD,MAAMqC,qBAAqB,GAAGlC,UAAU,CAACH,EAAE,EAAC,UAAU,CAAC;EAEvD,MAAMsC,OAAO,GAAGxB,UAAU,EAAE;EAE5B,MAAM,CAACyB,aAAa,EAACC,gBAAgB,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAEvDC,SAAS,CAAC,MAAI;IACVE,UAAU,CAACgC,oBAAoB,EAAEK,QAAQ,IAAI;MAC3CtB,UAAU,CAACsB,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACtC,GAAG,IAAI;QAClC,OAAO;UACLuC,EAAE,EAACvC,GAAG,CAACuC,EAAE;UACT,GAAGvC,GAAG,CAACwC,IAAI;QACb,CAAC;MACH,CAAC,CAAC,CAAC;IACL,CAAC,CACA;IACDzC,UAAU,CAACiC,qBAAqB,EAAEI,QAAQ,IAAI;MAC5CpB,WAAW,CAACoB,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACtC,GAAG,IAAI;QACnC,OAAO;UACLuC,EAAE,EAACvC,GAAG,CAACuC,EAAE;UACT,GAAGvC,GAAG,CAACwC,IAAI;QACb,CAAC;MACH,CAAC,CAAC,CAAC;IACL,CAAC,CACA;EACH,CAAC,EAAE,EAAE,CACN;EAED,MAAMC,UAAU,GAAGF,EAAE,IAAI;IACvB,MAAMG,YAAY,GAAG,CAAC,GAAG7B,OAAO,CAAC;IAEjC6B,YAAY,CAACC,OAAO,CAAC,MAAMC,MAAM,IAAI;MACnC,MAAMC,SAAS,GAAG7C,GAAG,CAACL,EAAE,EAAC,SAAS,EAACiD,MAAM,CAACL,EAAE,CAAC;MAC7C,IAAIK,MAAM,CAACL,EAAE,KAAKA,EAAE,EAAE;QACpB,MAAMnC,SAAS,CAACyC,SAAS,EAAC;UAACC,OAAO,EAAC,CAACF,MAAM,CAACE;QAAO,CAAC,CAAC;MACtD,CAAC,MAAM;QACL,MAAM1C,SAAS,CAACyC,SAAS,EAAC;UAACC,OAAO,EAAC;QAAK,CAAC,CAAC;MAC5C;IACF,CAAC,CAAC;IAEFhC,UAAU,CAAC4B,YAAY,CAAC;EAC1B,CAAC;EAED,MAAMK,YAAY,GAAG,MAAMC,CAAC,IAAI;IAC9BA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAI,CAAChC,IAAI,CAACE,KAAK,IAAI,CAACF,IAAI,CAACG,WAAW,IAAI,CAACH,IAAI,CAACI,WAAW,IAAI,CAACJ,IAAI,CAACK,KAAK,EAAE;MACxE4B,KAAK,CAAC,4BAA4B,CAAC;MACnC;IACF;IACA,IAAI,CAACrB,YAAY,EAAE;MAGjB,IAAIK,aAAa,IAAG,IAAI,EAAC;QACvB,MAAMiB,UAAU,GAAG9C,GAAG,CAAC4B,OAAO,EAAE,GAAEC,aAAa,CAACkB,IAAK,EAAC,CAAC;QACvD9C,WAAW,CAAC6C,UAAU,EAACjB,aAAa,CAAC,CAACmB,IAAI,CAAC,YAAY;UACvD,IAAIC,CAAC,GAAG,MAAM/C,cAAc,CAAC4C,UAAU,CAAC;UACxC,IAAII,CAAC,GAAG7C,EAAE,EAAE;UACZT,MAAM,CAAC+B,qBAAqB,EAAC;YAACwB,QAAQ,EAACD,CAAC;YAACE,IAAI,EAAC,8DAA8D;YAAEC,SAAS,EAAC;UAAa,CAAC,CAAC;UACvI,MAAMvD,MAAM,CAACH,GAAG,CAACL,EAAE,EAAE,SAAS,EAAE4D,CAAC,CAAC,EAAC;YAAC,GAAGtC,IAAI;YAAC6B,OAAO,EAAC,KAAK;YAACa,OAAO,EAACL;UAAC,CAAC,CAAC;QACrE,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAIC,CAAC,GAAG7C,EAAE,EAAE;QACZ,MAAMP,MAAM,CAACH,GAAG,CAACL,EAAE,EAAE,SAAS,EAAE4D,CAAC,CAAC,EAAC;UAAC,GAAGtC,IAAI;UAAC6B,OAAO,EAAC,KAAK;UAACa,OAAO,EAAC;QAAE,CAAC,CAAC;QACtE1D,MAAM,CAAC+B,qBAAqB,EAAC;UAACwB,QAAQ,EAACD,CAAC;UAACE,IAAI,EAAC,8DAA8D;UAAEC,SAAS,EAAC;QAAa,CAAC,CAAC;MACzI;IACA;IACF,IAAI7B,YAAY,EAAE;MAChB,MAAMgB,SAAS,GAAG7C,GAAG,CAACL,EAAE,EAAC,SAAS,EAACgC,aAAa,CAAC;MAEjD,IAAIO,aAAa,IAAG,IAAI,EAAC;QACvB,MAAMiB,UAAU,GAAG9C,GAAG,CAAC4B,OAAO,EAAE,GAAEC,aAAa,CAACkB,IAAK,EAAC,CAAC;QACvD9C,WAAW,CAAC6C,UAAU,EAACjB,aAAa,CAAC,CAACmB,IAAI,CAAC,YAAY;UACvD,IAAIC,CAAC,GAAG,MAAM/C,cAAc,CAAC4C,UAAU,CAAC;UACxC,MAAM/C,SAAS,CAACyC,SAAS,EAAC;YAAC,GAAG5B,IAAI;YAAC0C,OAAO,EAACL;UAAC,CAAC,CAAC;QAC9C,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAMlD,SAAS,CAACyC,SAAS,EAAC5B,IAAI,CAAC;MACjC;IAGF;IAEAC,OAAO,CAAC;MACNC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,WAAW,EAAC,EAAE;MACdC,KAAK,EAAC;IACR,CAAC,CAAC;IAEFE,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMoC,gBAAgB,GAAG,CAACZ,CAAC,EAACa,CAAC,KAAK;IAChC,MAAMC,gBAAgB,GAAG,CAAC,GAAG7C,IAAI,CAACI,WAAW,CAAC;IAE9CyC,gBAAgB,CAACD,CAAC,CAAC,GAAGb,CAAC,CAACe,MAAM,CAACC,KAAK;IAEpC9C,OAAO,CAAC;MACN,GAAGD,IAAI;MACPI,WAAW,EAACyC;IACd,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,UAAU,GAAG,CAACjB,CAAC,EAACa,CAAC,KAAK;IAC1B,MAAMK,UAAU,GAAG,CAAC,GAAGjD,IAAI,CAACK,KAAK,CAAC;IAElC4C,UAAU,CAACL,CAAC,CAAC,GAAGb,CAAC,CAACe,MAAM,CAACC,KAAK;IAE9B9C,OAAO,CAAC;MACN,GAAGD,IAAI;MACPK,KAAK,EAAC4C;IACR,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,qBAAqB,GAAG,MAAM;IAClCjD,OAAO,CAAC;MACN,GAAGD,IAAI;MACPI,WAAW,EAAE,CAAC,GAAGJ,IAAI,CAACI,WAAW,EAAE,EAAE;IACvC,CAAC,CAAC;EACJ,CAAC;EAED,MAAM+C,eAAe,GAAG,MAAM;IAC5BlD,OAAO,CAAC;MACN,GAAGD,IAAI;MACPK,KAAK,EAAE,CAAC,GAAGL,IAAI,CAACK,KAAK,EAAE,EAAE;IAC3B,CAAC,CAAC;EACJ,CAAC;EAED,MAAM+C,YAAY,GAAG,MAAM;IAAC7C,cAAc,CAAC,KAAK,CAAC;IAC/CN,OAAO,CAAC;MACRC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,WAAW,EAAC,EAAE;MACdC,KAAK,EAAC;IACR,CAAC,CAAC;EACJ,CAAC;EAIC,MAAMgD,YAAY,GAAG,MAAM/B,EAAE,IAAI;IAC/BrC,SAAS,CAACF,GAAG,CAACL,EAAE,EAAC,SAAS,EAAC4C,EAAE,CAAC,CAAC;IAC/B,KAAK,IAAIsB,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC9C,QAAQ,CAACwD,MAAM,EAAEV,CAAC,EAAE,EAAE;MACpC,IAAI9C,QAAQ,CAAC8C,CAAC,CAAC,CAACL,QAAQ,KAAKjB,EAAE,EAAE;QAC/B,MAAMrC,SAAS,CAACF,GAAG,CAACL,EAAE,EAAC,UAAU,EAACoB,QAAQ,CAAC8C,CAAC,CAAC,CAACtB,EAAE,CAAC,CAAC;MACpD;IACF;EACF,CAAC;EAED,IAAIiC,SAAS,GAAG,IAAIC,GAAG,CAAC,YAAY,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EACrD,IAAIC,SAAS,GAAG,IAAIJ,GAAG,CAAC,YAAY,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EACrD,IAAIE,aAAa,GAAG,IAAIL,GAAG,CAAC,WAAW,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EACxD,IAAIG,SAAS,GAAG,IAAIN,GAAG,CAAC,SAAS,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EAClD,IAAII,cAAc,GAAG,IAAIP,GAAG,CAAC,iBAAiB,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EAC/D,IAAIK,UAAU,GAAG,IAAIR,GAAG,CAAC,UAAU,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EACpD,IAAIM,YAAY,GAAG,IAAIT,GAAG,CAAC,YAAY,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EACxD,IAAIO,YAAY,GAAG,IAAIV,GAAG,CAAC,YAAY,EAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;EAExD,oBACE;IAAA,uBAEA;MAAK,SAAS,EAAC,KAAK;MAAA,wBAClB;QAAG,KAAK,EAAE;UAACQ,OAAO,EAAC,OAAO;UAACC,UAAU,EAAC,MAAM;UAC9CC,WAAW,EAAC,MAAM;UAACC,eAAe,EAAC,qBAAqB;UAACC,QAAQ,EAAC,EAAE;UAACC,KAAK,EAAC,MAAM;UAACC,YAAY,EAAC,EAAE;UAACC,KAAK,EAAC;QAAS,CAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA2C,eAE5J;QAAK,SAAS,EAAC,QAAQ;QAAC,GAAG,EAAEZ,SAAU;QAAC,KAAK,EAAE;UAACa,MAAM,EAAC,EAAE;UAACH,KAAK,EAAC;QAAE,CAAE;QAAC,IAAI,EAAC,QAAQ;QAAC,OAAO,EAAG,MAAK;UAC5FjE,cAAc,CAAC,CAACD,WAAW,CAAC;UAC5BG,aAAa,CAAC,YAAY,CAAC;QAC7B;MAAE;QAAA;QAAA;QAAA;MAAA,QAAE,eAER;QAAK,SAAS,EAAC,SAAS;QAAA,uBACtB;UAAA,UACEb,OAAO,CAACyB,GAAG,CAAC,CAACM,MAAM,EAACiB,CAAC,kBAAM;YAAI,SAAS,EAAC,QAAQ;YAAC,KAAK,EAAE;cAACuB,OAAO,EAAC,OAAO;cAACC,UAAU,EAAC,MAAM;cACjGC,WAAW,EAAC,MAAM;cAACC,eAAe,EAAC,qBAAqB;cAACE,KAAK,EAAC;YAAM,CAAE;YAAA,wBAEjE;cAAO,KAAK,EAAE;gBAACA,KAAK,EAAC;cAAM,CAAE;cAAA,uBAC3B;gBAAA,wBACE;kBAAI,KAAK,EAAE;oBAACA,KAAK,EAAC,OAAO;oBAACI,QAAQ,EAAC;kBAAU,CAAE;kBAAA,uBACnD;oBAAK,KAAK,EAAE;sBAACA,QAAQ,EAAC,UAAU;sBAACC,GAAG,EAAC;oBAAG,CAAE;oBAAA,wBAC1C;sBAAG,SAAS,EAAC,aAAa;sBAAC,KAAK,EAAE;wBAACH,KAAK,EAAC;sBAAS,CAAE;sBAAA,UAAE/C,MAAM,CAACzB;oBAAK;sBAAA;sBAAA;sBAAA;oBAAA,QAAK,eACvE;sBAAG,uBAAuB,EAAE;wBAAE4E,MAAM,EAAEnD,MAAM,CAACxB;sBAAY,CAAE;sBAAC,KAAK,EAAE;wBAACuE,KAAK,EAAC,SAAS;wBAACK,SAAS,EAAC;sBAAQ;oBAAE;sBAAA;sBAAA;sBAAA;oBAAA,QAAK,eAC7G;sBAAA;sBAAA;sBAAA;oBAAA,QAAK,eACL;sBAAG,KAAK,EAAE;wBAACC,UAAU,EAAC;sBAAM,CAAE;sBAAA;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QAAiB,eAC/C;sBAAA;sBAAA;sBAAA;oBAAA,QAAK,eACD;sBAAK,KAAK,EAAE;wBAACb,OAAO,EAAC,MAAM;wBAACc,QAAQ,EAAC,MAAM;wBAACF,SAAS,EAAC;sBAAQ,CAAE;sBAAA,UAAEpD,MAAM,CAACvB,WAAW,CAACiB,GAAG,CAAC,CAAC6D,UAAU,EAACtC,CAAC,kBACpG;wBAAA,WAAcsC,UAAU;sBAAA,GAAdtC,CAAC;wBAAA;wBAAA;wBAAA;sBAAA,QACZ;oBAAC;sBAAA;sBAAA;sBAAA;oBAAA,QACI;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;gBAEJ;kBAAA;kBAAA;kBAAA;gBAAA,QACG,eACL;kBAAI,KAAK,EAAE;oBAAC4B,KAAK,EAAC;kBAAO,CAAE;kBAAA,uBACzB;oBAAK,GAAG,EAAG7C,MAAM,CAACe,OAAO,KAAK,EAAE,GAAI,IAAIc,GAAG,CAAC7B,MAAM,CAACe,OAAO,EAACe,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,GAAGI,cAAe;oBAAC,KAAK,EAAE;sBAACS,KAAK,EAAC,MAAM;sBAACG,MAAM,EAAC,OAAO;sBAACQ,aAAa,EAAC;oBAAQ;kBAAE;oBAAA;oBAAA;oBAAA;kBAAA;gBAAE;kBAAA;kBAAA;kBAAA;gBAAA,QACzJ,eACL;kBAAI,KAAK,EAAE;oBAACX,KAAK,EAAC;kBAAK,CAAE;kBAAA,uBAE7B;oBAAK,SAAS,EAAG,SAAS;oBAAC,KAAK,EAAE;sBAACA,KAAK,EAAC,MAAM;sBAACG,MAAM,EAAC,MAAM;sBAACS,SAAS,EAAC;oBAAQ,CAAE;oBAAA,uBAChF;sBAAI,KAAK,EAAE;wBAACjB,OAAO,EAAC,cAAc;wBAACiB,SAAS,EAAC,MAAM;wBAACT,MAAM,EAAC;sBAAM,CAAE;sBAAA,wBACjE;wBAAA,uBAAI;0BAAK,SAAS,EAAC,QAAQ;0BAAC,GAAG,EAAEf,SAAU;0BAAC,KAAK,EAAE;4BAACe,MAAM,EAAC,EAAE;4BAACH,KAAK,EAAC,EAAE;4BAACa,YAAY,EAAC,EAAE;4BAACC,MAAM,EAAC;0BAAe,CAAE;0BAAC,OAAO,EAAE,MAAM9D,UAAU,CAACG,MAAM,CAACL,EAAE;wBAAE;0BAAA;0BAAA;0BAAA;wBAAA;sBAAE;wBAAA;wBAAA;wBAAA;sBAAA,QAAK,eAC9J;wBAAA,wBAAI;0BAAK,SAAS,EAAC,QAAQ;0BAAC,GAAG,EAAEiC,SAAU;0BAAC,KAAK,EAAE;4BAACoB,MAAM,EAAC,EAAE;4BAACH,KAAK,EAAC,EAAE;4BAACa,YAAY,EAAC,EAAE;4BAACC,MAAM,EAAC;0BAAe,CAAE;0BAAC,OAAO,EAAE,MAAM;4BAACrF,OAAO,CAAC;8BAACC,KAAK,EAACyB,MAAM,CAACzB,KAAK;8BAACC,WAAW,EAACwB,MAAM,CAACxB,WAAW;8BAACC,WAAW,EAACuB,MAAM,CAACvB,WAAW;8BAACC,KAAK,EAACsB,MAAM,CAACtB;4BAAK,CAAC,CAAC;4BACtNI,aAAa,CAAC,aAAa,CAAC;4BAC5BF,cAAc,CAAC,CAACD,WAAW,CAAC;4BAC5BK,gBAAgB,CAACgB,MAAM,CAACL,EAAE,CAAC;4BAC3BT,eAAe,CAAC,IAAI,CAAC;0BACrB;wBAAE;0BAAA;0BAAA;0BAAA;wBAAA,QAAE;sBAAA;wBAAA;wBAAA;wBAAA;sBAAA,QAAM,eAClC;wBAAA,wBAAI;0BAAK,SAAS,EAAC,QAAQ;0BAAC,GAAG,EAAEgD,aAAc;0BAAC,KAAK,EAAE;4BAACc,MAAM,EAAC,EAAE;4BAACH,KAAK,EAAC,EAAE;4BAACa,YAAY,EAAC,EAAE;4BAACC,MAAM,EAAC;0BAAe,CAAE;0BAAC,OAAO,EAAE,MAAM;4BAAC,IAAIC,MAAM,CAACC,OAAO,CAAC,8CAA8C,CAAC,EAAEnC,YAAY,CAAC1B,MAAM,CAACL,EAAE,CAAC;0BAAA;wBAAE;0BAAA;0BAAA;0BAAA;wBAAA,QAAE;sBAAA;wBAAA;wBAAA;wBAAA;sBAAA,QAAM;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA;kBACtO;oBAAA;oBAAA;oBAAA;kBAAA;gBACC;kBAAA;kBAAA;kBAAA;gBAAA,QACG;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAEJ;cAAA;cAAA;cAAA;YAAA,QAEG,EAGNK,MAAM,CAACE,OAAO,iBAAI;cAAA,wBAElB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAc,eACd;gBAAA,UACGF,MAAM,CAACtB,KAAK,CAACgB,GAAG,CAAC,CAACoE,IAAI,EAAC7C,CAAC,kBACvB;kBAAA,wBAAY;oBAAM,KAAK,EAAE;sBAAC8B,KAAK,EAAC;oBAAS,CAAE;oBAAA,UAAE9B,CAAC,GAAC;kBAAI;oBAAA;oBAAA;oBAAA;kBAAA,QAAQ;oBAAA,UAAQ6C;kBAAI;oBAAA;oBAAA;oBAAA;kBAAA,QAAS;gBAAA,GAAvE7C,CAAC;kBAAA;kBAAA;kBAAA;gBAAA,QACX;cAAC;gBAAA;gBAAA;gBAAA;cAAA,QACC,eAEL;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAiB,eAGjB,QAAC,WAAW;gBAAC,QAAQ,EAAEjB,MAAM,CAACL,EAAG;gBAAC,QAAQ,EAAExB;cAAS;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QAEnD;UAAA,GAxDiE6B,MAAM,CAACL,EAAE;YAAA;YAAA;YAAA;UAAA,QA2D5E;QAAC;UAAA;UAAA;UAAA;QAAA;MACF;QAAA;QAAA;QAAA;MAAA,QACD,EAEJhB,WAAW,iBAAI;QAAK,SAAS,EAAE,OAAO;QAAA,uBAChC;UAAK,SAAS,EAAC,aAAa;UAAA,wBAC1B;YAAA,UAAKE;UAAU;YAAA;YAAA;YAAA;UAAA,QAAM,eAErB;YAAM,QAAQ,EAAIsB,YAAa;YAAA,wBAE7B;cAAK,SAAS,EAAC,YAAY;cAAA,wBACzB;gBAAO,KAAK,EAAE;kBAACsD,SAAS,EAAC;gBAAQ,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAoC,eACvE;gBACE,IAAI,EAAC,MAAM;gBACX,KAAK,EAAEpF,IAAI,CAACE,KAAM;gBAClB,QAAQ,EAAI6B,CAAC,IAAI9B,OAAO,CAAC;kBAAC,GAAGD,IAAI;kBAACE,KAAK,EAAC6B,CAAC,CAACe,MAAM,CAACC;gBAAK,CAAC;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QACzD,eAEN;cAAK,SAAS,EAAC,YAAY;cAAA,wBACzB;gBAAO,KAAK,EAAE;kBAACqC,SAAS,EAAC;gBAAQ,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAgC,eACnE;gBACE,IAAI,EAAC,MAAM;gBACX,KAAK,EAAEpF,IAAI,CAACG,WAAY;gBACxB,QAAQ,EAAI4B,CAAC,IAAI9B,OAAO,CAAC;kBAAC,GAAGD,IAAI;kBAACG,WAAW,EAAC4B,CAAC,CAACe,MAAM,CAACC;gBAAK,CAAC;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QAC/D,eAEN;cAAK,SAAS,EAAC,YAAY;cAAA,wBACzB;gBAAO,KAAK,EAAE;kBAACqC,SAAS,EAAC;gBAAQ,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAiC,EAElEpF,IAAI,CAACI,WAAW,CAACiB,GAAG,CAAC,CAAC6D,UAAU,EAACtC,CAAC,kBAChC;gBACF,IAAI,EAAC,MAAM;gBAEX,KAAK,EAAEsC,UAAW;gBAClB,QAAQ,EAAInD,CAAC,IAAIY,gBAAgB,CAACZ,CAAC,EAACa,CAAC;cAAE,GAFlCA,CAAC;gBAAA;gBAAA;gBAAA;cAAA,QAGL,CAAC,eAGJ;gBAAK,IAAI,EAAC,QAAQ;gBAAC,GAAG,EAAEoB,UAAW;gBAAC,KAAK,EAAE;kBAACG,OAAO,EAAC,OAAO;kBAAEC,UAAU,EAAC,MAAM;kBAChGC,WAAW,EAAC,MAAM;kBAACG,KAAK,EAAC,MAAM;kBAACG,MAAM,EAAC;gBAAM,CAAE;gBAAC,OAAO,EAAGzB;cAAsB;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QAE5D,eAEN;cAAK,SAAS,EAAC,YAAY;cAAA,wBACzB;gBAAO,KAAK,EAAE;kBAACkC,SAAS,EAAC;gBAAQ,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAoC,EAErEpF,IAAI,CAACK,KAAK,CAACgB,GAAG,CAAC,CAACoE,IAAI,EAAC7C,CAAC,kBACpB;gBACF,IAAI,EAAC,UAAU;gBAEf,KAAK,EAAE6C,IAAK;gBACZ,QAAQ,EAAI1D,CAAC,IAAIiB,UAAU,CAACjB,CAAC,EAACa,CAAC;cAAE,GAF5BA,CAAC;gBAAA;gBAAA;gBAAA;cAAA,QAGL,CAAC,eAGxB;gBAAK,IAAI,EAAC,QAAQ;gBAAC,GAAG,EAAEoB,UAAW;gBAAC,KAAK,EAAE;kBAACG,OAAO,EAAC,OAAO;kBAAEC,UAAU,EAAC,MAAM;kBAC5EC,WAAW,EAAC,MAAM;kBAACG,KAAK,EAAC,MAAM;kBAACG,MAAM,EAAC;gBAAM,CAAE;gBAAC,OAAO,EAAGxB;cAAgB;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QAEtD,eAEN;cAAK,SAAS,EAAC,YAAY;cAAA,wBACzB;gBAAO,KAAK,EAAE;kBAACiC,SAAS,EAAC;gBAAQ,CAAE;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAsC,eAE7F;gBAAO,IAAI,EAAC,MAAM;gBAAC,QAAQ,EAAGrD,CAAC,IAAK;kBAACb,gBAAgB,CAACa,CAAC,CAACe,MAAM,CAAC4C,KAAK,CAAC,CAAC,CAAC,CAAC;gBAAA;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QACpD,eAEN;cAAK,SAAS,EAAC,SAAS;cAAC,KAAK,EAAE;gBAACvB,OAAO,EAAC;cAAM,CAAE;cAAA,wBAC/C;gBAAQ,IAAI,EAAC,QAAQ;gBAAA,uBAAC;kBAAK,GAAG,EAAEF,YAAa;kBAAC,KAAK,EAAE;oBAACO,KAAK,EAAC,MAAM;oBAACG,MAAM,EAAC;kBAAM;gBAAE;kBAAA;kBAAA;kBAAA;gBAAA;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAS,eAC7F;gBAAQ,IAAI,EAAC,QAAQ;gBAAC,KAAK,EAAC,QAAQ;gBAAC,OAAO,EAAEvB,YAAa;gBAAA,uBAAC;kBAAK,GAAG,EAAEc,YAAa;kBAAC,KAAK,EAAE;oBAACM,KAAK,EAAC,MAAM;oBAACG,MAAM,EAAC;kBAAM;gBAAE;kBAAA;kBAAA;kBAAA;gBAAA;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAS;YAAA;cAAA;cAAA;cAAA;YAAA,QAC/H;UAAA;YAAA;YAAA;YAAA;UAAA,QAED;QAAA;UAAA;UAAA;UAAA;QAAA;MACH;QAAA;QAAA;QAAA;MAAA,QACN;IAAA;MAAA;MAAA;MAAA;IAAA;EACJ,iBAEH;AAEP;AAAC,GA1UQhF,GAAG;AAAA,KAAHA,GAAG;AA4UZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}